<?xml version="1.0" encoding="UTF-8"?>

<!--
 Hive Colony Framework
 Copyright (C) 2008 Hive Solutions Lda.

 This file is part of Hive Colony Framework.

 Hive Colony Framework is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 Hive Colony Framework is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with Hive Colony Framework. If not, see <http://www.gnu.org/licenses/>.
-->

<!--
 __author__    = João Magalhães <joamag@hive.pt>
 __version__   = 1.0.0
 __revision__  = $LastChangedRevision: 72 $
 __date__      = $LastChangedDate: 2008-10-21 23:29:54 +0100 (Tue, 21 Oct 2008) $
 __copyright__ = Copyright (c) 2008 Hive Solutions Lda.
 __license__   = GNU General Public License (GPL), Version 3
-->

<build_automation xmlns="http://www.hive.pt"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.hive.pt xsd/baf.xsd">
    <artifact>
        <id>pt.hive.colony.plugins.build.automation.items.colony_base</id>
        <version>1.0.0</version>
        <type>colony</type>
        <name>Colony Base Build Automation Item Plugin</name>
        <description>The build automation item for the base of the colony framework</description>
        <url>http://www.hive.pt</url>
    </artifact>
    <build>
        <default_stage>build</default_stage>
        <plugins>
            <plugin>
                <id>pt.hive.colony.plugins.build.automation.extensions.packing</id>
                <version>1.0.0</version>
                <stage>build</stage>
                <configuration>
                    <type>plugin</type>
                    <specification_file>$base{plugin_directory}/colony_base_build_automation_item_plugin.json</specification_file>
                </configuration>
            </plugin>
            <plugin>
                <id>pt.hive.colony.plugins.build.automation.extensions.installation</id>
                <version>1.0.0</version>
                <stage>build</stage>
                <configuration>
                    <formats>deb,zip</formats>
                    <base_name>colony</base_name>
                    <package>
                        <package_name>colony</package_name>
                        <package_version>${build_automation.artifact.version}</package_version>
                        <package_section>devel</package_section>
                        <package_priority>optional</package_priority>
                        <package_architecture>all</package_architecture>
                        <package_essential>no</package_essential>
                        <package_dependencies>python</package_dependencies>
                        <package_pre_dependencies>bash</package_pre_dependencies>
                        <package_installed_size>0</package_installed_size>
                        <package_maintainer><![CDATA[Hive Solutions Lda. <development@hive.pt>]]></package_maintainer>
                        <package_provides>colony</package_provides>
                        <package_description>A framework for a simpler aproach to modularity.\n Colony Framework is an open-source modularity framework, that makes it possible for regular people to build future proof software.\n</package_description>
                    </package>
                    <contents>
                        <exclusions>
                            <exclusion>.*.svn$</exclusion>
                            <exclusion>.*.pyc$</exclusion>
                            <exclusion>.*.log$</exclusion>
                        </exclusions>
                        <file>
                            <path>$base{plugin_system_directory}/main.py</path>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <target>usr/lib/colony/main.py</target>
                                </deb>
                                <zip>
                                    <target>colony/main.py</target>
                                </zip>
                            </parameters>
                        </file>
                        <file>
                            <path>$base{plugin_system_directory}/script.py</path>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <target>usr/lib/colony/script.py</target>
                                </deb>
                                <zip>
                                    <target>colony/script.py</target>
                                </zip>
                            </parameters>
                        </file>
                        <directory>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <target>usr/lib/colony</target>
                                </deb>
                            </parameters>
                        </directory>
                        <directory>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <target>var/colony</target>
                                </deb>
                            </parameters>
                        </directory>
                        <directory>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <target>var/log/colony</target>
                                </deb>
                            </parameters>
                        </directory>
                        <directory>
                            <path>$base{plugin_system_directory}/colony</path>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <target>usr/lib/colony/colony</target>
                                </deb>
                                <zip>
                                    <target>colony/colony</target>
                                </zip>
                            </parameters>
                        </directory>
                        <directory>
                            <path>$base{plugin_system_directory}/config</path>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <target>usr/lib/colony/config</target>
                                </deb>
                                <zip>
                                    <target>colony/config</target>
                                </zip>
                            </parameters>
                        </directory>
                        <directory>
                            <path>$base{plugin_system_directory}/deploy</path>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>777</mode>
                            <recursive>false</recursive>
                            <parameters>
                                <deb>
                                    <target>usr/lib/colony/deploy</target>
                                </deb>
                                <zip>
                                    <target>colony/deploy</target>
                                </zip>
                            </parameters>
                        </directory>
                        <directory>
                            <path>$base{plugin_system_directory}/log</path>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>777</mode>
                            <recursive>false</recursive>
                            <parameters>
                                <deb>
                                    <target>usr/lib/colony/log</target>
                                </deb>
                                <zip>
                                    <target>colony/log</target>
                                </zip>
                            </parameters>
                        </directory>
                        <directory>
                            <path>$base{plugin_system_directory}/meta</path>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>777</mode>
                            <recursive>false</recursive>
                            <parameters>
                                <deb>
                                    <target>usr/lib/colony/meta</target>
                                </deb>
                                <zip>
                                    <target>colony/meta</target>
                                </zip>
                            </parameters>
                        </directory>
                        <directory>
                            <path>$base{plugin_system_directory}/plugins</path>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <recursive>false</recursive>
                            <parameters>
                                <deb>
                                    <target>usr/lib/colony/plugins</target>
                                </deb>
                                <zip>
                                    <target>colony/plugins</target>
                                </zip>
                            </parameters>
                        </directory>
                        <directory>
                            <path>$base{plugin_system_directory}/scripts</path>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <target>usr/lib/colony/scripts</target>
                                </deb>
                                <zip>
                                    <target>colony/scripts</target>
                                </zip>
                            </parameters>
                        </directory>
                        <directory>
                            <path>$base{plugin_system_directory}/var</path>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <target>usr/lib/colony/var</target>
                                </deb>
                                <zip>
                                    <target>colony/var</target>
                                </zip>
                            </parameters>
                        </directory>
                        <link>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <source>usr/bin/colony</source>
                                    <target>/usr/lib/colony/scripts/unix/colony.sh</target>
                                </deb>
                            </parameters>
                        </link>
                        <link>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <source>usr/bin/colony_script</source>
                                    <target>/usr/lib/colony/scripts/unix/colony_script.sh</target>
                                </deb>
                            </parameters>
                        </link>
                        <link>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <source>usr/bin/colony_pypy</source>
                                    <target>/usr/lib/colony/scripts/unix/colony_pypy.sh</target>
                                </deb>
                            </parameters>
                        </link>
                        <link>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <source>usr/bin/colony_jython</source>
                                    <target>/usr/lib/colony/scripts/unix/colony_jython.sh</target>
                                </deb>
                            </parameters>
                        </link>
                        <link>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <source>usr/bin/colony_ironpython</source>
                                    <target>/usr/lib/colony/scripts/unix/colony_ironpython.sh</target>
                                </deb>
                            </parameters>
                        </link>
                        <link>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <source>usr/bin/colony_deploy</source>
                                    <target>/usr/lib/colony/scripts/unix/colony_deploy.sh</target>
                                </deb>
                            </parameters>
                        </link>
                        <link>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <source>usr/bin/colony_daemon</source>
                                    <target>/usr/lib/colony/scripts/unix/colony_daemon.sh</target>
                                </deb>
                            </parameters>
                        </link>
                        <link>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <source>usr/bin/colony_daemon_test</source>
                                    <target>/usr/lib/colony/scripts/unix/colony_daemon_test.sh</target>
                                </deb>
                            </parameters>
                        </link>
                        <link>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <source>usr/bin/colony_command</source>
                                    <target>/usr/lib/colony/scripts/unix/colony_command.sh</target>
                                </deb>
                            </parameters>
                        </link>
                        <link>
                            <owner>0</owner>
                            <group>0</group>
                            <mode>755</mode>
                            <parameters>
                                <deb>
                                    <source>etc/colony</source>
                                    <target>/usr/lib/colony/config</target>
                                </deb>
                            </parameters>
                        </link>
                    </contents>
                </configuration>
            </plugin>
        </plugins>
    </build>
</build_automation>
